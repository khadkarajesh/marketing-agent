{
	"meta": {
		"generatedAt": "2025-11-15T13:25:45.395Z",
		"tasksAnalyzed": 10,
		"totalTasks": 10,
		"analysisCount": 10,
		"thresholdScore": 5,
		"projectName": "Taskmaster",
		"usedResearch": true
	},
	"complexityAnalysis": [
		{
			"taskId": 1,
			"taskTitle": "Analyze current codebase and stack",
			"complexityScore": 2,
			"recommendedSubtasks": 5,
			"expansionPrompt": "Use ripgrep/glob to inventory root files (package.json, tsconfig*, vite.config*, next.config*), inspect src/* entry points, and note styling/config. Summarize framework, TS setup, entry points, and gaps. Do not modify code.",
			"reasoning": "Read-only discovery using file listing and targeted greps. No code changes or refactors; low risk. Break into steps to ensure coverage of config, entry points, and styles."
		},
		{
			"taskId": 2,
			"taskTitle": "Define shared TypeScript types and config constants",
			"complexityScore": 3,
			"recommendedSubtasks": 5,
			"expansionPrompt": "Confirm Vite root and env patterns, then add src/types.ts and src/config.ts with the specified types and VITE_* env-backed constants plus an agent prompt placeholder. Provide .env.example and verify type-check/build.",
			"reasoning": "Self-contained TS additions and env-backed constants. Mild care required to follow Vite import.meta.env and project structure; straightforward to validate with a build/type-check."
		},
		{
			"taskId": 3,
			"taskTitle": "Implement ElevenLabs conversation hook (Context7)",
			"complexityScore": 8,
			"recommendedSubtasks": 5,
			"expansionPrompt": "Scaffold a React hook managing state and session API; implement WebSocket lifecycle with auth and agent init; stream mic audio via MediaRecorder/WebAudio; parse Context7 transcript/agent messages; finalize cleanup and options.",
			"reasoning": "Real-time audio capture and bi-directional WebSocket streaming with partial/final transcripts is non-trivial. Requires permission handling, session lifecycle, parsing varying payloads, and robust cleanup."
		},
		{
			"taskId": 4,
			"taskTitle": "Build VoiceAgentPanel UI",
			"complexityScore": 4,
			"recommendedSubtasks": 5,
			"expansionPrompt": "Create component scaffold; integrate with useElevenLabsConversation to control session; render scrollable transcript with auto-scroll; expose transcript to parent; add simple heuristic hints and callbacks.",
			"reasoning": "Primarily UI wiring and state display. Live updates and auto-scroll add some nuance; can mock the hook to decouple from streaming complexity."
		},
		{
			"taskId": 5,
			"taskTitle": "Implement PDF upload and PDF→image conversion",
			"complexityScore": 6,
			"recommendedSubtasks": 5,
			"expansionPrompt": "Audit for existing PDF utils; ensure pdfjs-dist and worker configuration; implement pdfToImages rendering per page; build multi-file upload panel with progress and errors; integrate with parent state.",
			"reasoning": "PDF.js worker setup can be finicky in Vite; per-page rendering and multi-file progress/error handling add moderate complexity and performance considerations."
		},
		{
			"taskId": 6,
			"taskTitle": "Lift and centralize app state",
			"complexityScore": 5,
			"recommendedSubtasks": 5,
			"expansionPrompt": "Define AppState types and Context; lift state into App and provider; connect panel skeletons to Context; render panels with basic layout; verify cross-panel state flows.",
			"reasoning": "Architectural glue across panels (conversation, PDFs, client search). Derived state (transcript/hints) and context contracts increase coordination but remain standard React patterns."
		},
		{
			"taskId": 7,
			"taskTitle": "Implement Client Search POST flow",
			"complexityScore": 5,
			"recommendedSubtasks": 5,
			"expansionPrompt": "Inventory existing panel/config; wire POST handler that builds FormData with transcript/hints/images and timeout; gate button enablement; extract a helper for FormData and align with conventions.",
			"reasoning": "FormData construction and robust fetch with timeout and status handling is typical. Careful field naming for images and UI gating adds moderate effort."
		},
		{
			"taskId": 8,
			"taskTitle": "Embed agent prompt and configuration documentation",
			"complexityScore": 3,
			"recommendedSubtasks": 5,
			"expansionPrompt": "Locate config/README and ElevenLabs references; add ELEVENLABS_AGENT_PROMPT export; update README with run/env/setup and Context7 notes; add TODOs near connection code about IDs/voice/model.",
			"reasoning": "Documentation plus a small config export. Main risks are consistency with existing naming and ensuring the prompt is referenced without breaking imports."
		},
		{
			"taskId": 9,
			"taskTitle": "Robust error handling and UX polish",
			"complexityScore": 6,
			"recommendedSubtasks": 5,
			"expansionPrompt": "Scan for mic/socket/PDF/POST code paths; add mic denial UX with retry; improve socket error UX and idempotent cleanup; add per-file PDF error handling; harden POST flow with retry/in-flight and minor responsive styles.",
			"reasoning": "Cross-cutting concerns across audio, sockets, PDF, and network with user feedback and resilience. Requires coordinated updates and defensive coding patterns."
		},
		{
			"taskId": 10,
			"taskTitle": "Light verification scripts and optional tests",
			"complexityScore": 4,
			"recommendedSubtasks": 5,
			"expansionPrompt": "Detect framework and existing test tooling; locate components/hooks to target; author docs/verification.md; set up minimal smoke test harness (prefer Vitest/RTL if present); add 1–2 smoke tests and npm scripts.",
			"reasoning": "Manual verification doc plus minimal smoke tests. Complexity depends on existing tooling; mocking audio/network reduces risk but needs concise setup."
		}
	]
}